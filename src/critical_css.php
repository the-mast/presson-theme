<?php 
/*
 * Embed the critical path CSS
 * Run `gulp critical-css` and take the minified css at ./dist/critical.css
 */

function critical_css() {
  $critical_css = <<<EOD
@import url("https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i%7CRoboto+Slab:400,700");html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body{margin:0}header,main,nav{display:block}a{background-color:transparent}img{border:0}input{color:inherit;font:inherit;margin:0}input[type=submit]{-webkit-appearance:button}input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}body,input{color:#404040;font-family:sans-serif;font-size:16px;font-size:1rem;line-height:1.5}h2,h3{clear:both}body{background:#fff}ul{margin:0 0 1.5em 3em;list-style:disc}img{height:auto;max-width:100%}input[type=submit]{border:1px solid;border-color:#ccc #ccc #bbb;border-radius:3px;background:#e6e6e6;color:rgba(0,0,0,.8);font-size:12px;font-size:.75rem;line-height:1;padding:.6em 1em .4em}input[type=search]{color:#666;border:1px solid #ccc;border-radius:3px;padding:3px}a{color:#4169e1}a:visited{color:purple}.screen-reader-text{clip:rect(1px,1px,1px,1px);position:absolute!important;height:1px;width:1px;overflow:hidden}.site-content:after,.site-content:before{content:"";display:table;table-layout:fixed}.site-content:after{clear:both}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}h2,h3{font-family:Roboto Slab,serif}.button,.search-submit{width:253px;height:50px;background-color:#500850;border:1px solid #000;border-radius:100px;text-align:center}*{margin:0;padding:0}#nav-header{margin:0 auto;font-family:Roboto Slab,serif;color:#fff}#nav-burger-menu{float:right;width:40px;height:45px;position:relative;margin:5px auto}#nav-burger-menu,#nav-burger-menu span{-webkit-transform:rotate(0deg);transform:rotate(0deg)}#nav-burger-menu span{display:block;position:absolute;height:4px;width:100%;background:#fff;border-radius:0;opacity:1;left:0}#nav-burger-menu span:nth-child(1){top:0}#nav-burger-menu span:nth-child(2),#nav-burger-menu span:nth-child(3){top:12px}#nav-burger-menu span:nth-child(4){top:24px}#nav-menu-list{top:-5px;background-color:#fff;position:relative;overflow-y:scroll;z-index:20}#nav-menu-list ul{margin:0;padding:5px 20px;text-align:center}#nav-menu-list ul span{color:#000}#nav-menu-list ul li{padding:15px;border-bottom:2px solid #e4dbcc}#nav-menu-list ul li a{text-decoration:none;font-size:20px;text-transform:uppercase;color:#000}.resting{margin-left:57px;width:0;height:0}.search-close{margin-top:-70px;animation-timing-function:ease-in-out;-webkit-animation-timing-function:ease-in-out;visibility:visible!important}#nav-search{float:left;display:block;margin-right:2.3576515979%;width:100%;position:relative;width:28px;height:37px;margin-left:-65px}#nav-search span{background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 25' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform='translate(2 2)' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23FFF' stroke-width='3' cx='8' cy='8' r='8'/%3E%3Cpath d='M14.463 14.076l6.224 5.846c.658.618.671 1.64.035 2.276l-.084.084a1.574 1.574 0 0 1-2.276-.035l-5.847-6.224 1.948-1.947z' fill='%23FFF'/%3E%3C/g%3E%3C/svg%3E") no-repeat;background-position:50%;background-size:contain;width:100%;height:100%;float:left}@media screen and (min-width:640px){#nav-search{margin-left:-50px}}#search-bar{position:fixed;width:100%;max-width:640px;height:60px;background-color:#fff;z-index:99;border-bottom:1px solid #612061}#search-bar label{padding-left:15px}.search-submit{float:right;background:#612061!important;color:#fff!important;border-radius:20px!important;height:42px;font-size:16px!important;width:80px;padding-top:9px!important;margin-top:-6px;margin-right:8px;text-transform:uppercase;border-color:#000!important}#search-form{padding-top:15px;height:60px}.search-field{padding-right:70px;border:none!important;width:70%;height:48px;padding-left:10px;margin-top:-10px;margin-left:-9px;font-family:Noto Sans,sans-serif}#page{overflow:hidden}#masthead{display:block;padding:10px 20px;background-color:#500850;background:rgba(80,8,80,.9);color:#fff;height:60px;width:100%;max-width:640px;z-index:100}#masthead:after{clear:both;content:"";display:table}#masthead #logo-header{float:left;display:block;margin-right:2.3576515979%;width:91.4701957002%;height:60px}#masthead #logo-header span{background:url(assets/images/logo_white.svg) no-repeat;background-size:contain;display:block;height:50px;width:150px}#masthead #nav-header{float:left;display:block;margin-right:2.3576515979%;width:6.1721527019%;height:100%}#masthead #nav-header:last-child{margin-right:0}#masthead{position:fixed}.related-story{padding:10px 6px;width:95%;display:block;margin:auto;border-bottom:1px solid #e4dbcc;border-width:95%}.related-story:after{clear:both;content:"";display:table}.related-story .related-story-title{float:left;display:block;margin-right:2.3576515979%;width:65.8807828007%}.related-story .related-story-title span{text-transform:uppercase;color:#e34357;font-weight:700;font-size:.8em}.related-story .related-story-title h3{margin:0;font-weight:300}.related-story .related-story-title a{text-decoration:none;color:#000}.related-story .related-story-image{float:left;display:block;margin-right:2.3576515979%;width:31.7615656014%;width:90px;float:right}.related-story .related-story-image:last-child{margin-right:0}.featured-article{margin:15px}.featured-article .text-article-container{padding:0!important;padding-top:5px!important}.article,.featured-article{display:block}.article:after,.featured-article:after{clear:both;content:"";display:table}.article .text-article-container .article-category,.featured-article .text-article-container .article-category{text-transform:uppercase;font-weight:bolder;font-size:.8em}.article .text-article-container .article-category a,.featured-article .text-article-container .article-category a{text-decoration:none;color:#e34357}.article .text-article-container,.featured-article .text-article-container{padding:10px 15px}.article .text-article-container .article-category,.featured-article .text-article-container .article-category{display:inline-block}.article .text-article-container .entry-title,.featured-article .text-article-container .entry-title{padding-bottom:15px;border-bottom:2px solid #e4dbcc}.article .text-article-container .entry-title a,.featured-article .text-article-container .entry-title a{color:#404040;font-weight:700;text-decoration:none}body,html{padding:0;max-width:640px;display:block;margin:0 auto;background-color:#fff}body{max-width:100%;margin-left:auto;margin-right:auto;font-family:Noto Sans,sans-serif}body:after{clear:both;content:"";display:table}body #site-overlay{width:100%;height:100%;background-color:#000;opacity:.7;z-index:20;position:fixed;top:0;left:0}#content{margin-top:60px}a,a:visited{color:#192755}img{border:none}
EOD;

  wp_add_inline_style('press-on-style', $critical_css);
};

add_action( 'wp_enqueue_scripts', 'critical_css' );
?>

